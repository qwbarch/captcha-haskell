<!DOCTYPE html>
<html class="no-js" lang="en">

<head>
<title>Solving captchas · captcha-haskell</title>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<meta name="description" content='root'/>
<link href="https://fonts.googleapis.com/css?family=Roboto:100normal,100italic,300normal,300italic,400normal,400italic,500normal,500italic,700normal,700italic,900normal,900italicc" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="lib/jquery/jquery.min.js"></script>
<script type="text/javascript" src="js/page.js"></script>
<script type="text/javascript" src="js/warnOldVersion.js"></script>
<script type="text/javascript" src="js/groups.js"></script>
<script type="text/javascript" src="js/snippets.js"></script>
<link rel="stylesheet" type="text/css" href="lib/foundation/dist/foundation.min.css"/>
<link rel="stylesheet" type="text/css" href="css/page.css"/>

<!--
<link rel="shortcut icon" href="images/favicon.ico" />
-->
</head>

<body>
<div class="off-canvas-wrapper">
<div class="off-canvas-wrapper-inner" data-off-canvas-wrapper>

<div class="off-canvas position-left" id="off-canvas-menu" data-off-canvas>
<nav class="off-canvas-nav">
<div class="nav-home">
<a href="index.html" >
<span class="home-icon">⌂</span>captcha-haskell
</a>
<div class="version-number">
0.1.0.0
</div>
</div>
<div class="nav-toc">
<ul>
  <li><a href="solving-captchas.html" class="active page">Solving captchas</a></li>
</ul>
</div>

</nav>
</div>

<div class="off-canvas-content" data-off-canvas-content>

<header class="site-header expanded row">
<div class="small-12 column">
<a href="#" class="off-canvas-toggle hide-for-medium" data-toggle="off-canvas-menu"><svg class="svg-icon svg-icon-menu" version="1.1" id="Menu" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 20 20" enable-background="new 0 0 20 20" xml:space="preserve"> <path class="svg-icon-menu-path" fill="#53CDEC" d="M16.4,9H3.6C3.048,9,3,9.447,3,10c0,0.553,0.048,1,0.6,1H16.4c0.552,0,0.6-0.447,0.6-1C17,9.447,16.952,9,16.4,9z M16.4,13
H3.6C3.048,13,3,13.447,3,14c0,0.553,0.048,1,0.6,1H16.4c0.552,0,0.6-0.447,0.6-1C17,13.447,16.952,13,16.4,13z M3.6,7H16.4
C16.952,7,17,6.553,17,6c0-0.553-0.048-1-0.6-1H3.6C3.048,5,3,5.447,3,6C3,6.553,3.048,7,3.6,7z"/></svg>
</a>
<div class="title"><a href="index.html">captcha-haskell</a></div>

<!--
<a href="https://www.example.com" class="logo show-for-medium">logo</a>
-->
</div>
</header>

<div class="expanded row">

<div class="medium-3 large-2 show-for-medium column">
<nav class="site-nav">
<div class="nav-home">
<a href="index.html" >
<span class="home-icon">⌂</span>captcha-haskell
</a>
<div class="version-number">
0.1.0.0
</div>
</div>
<div class="nav-toc">
<ul>
  <li><a href="solving-captchas.html" class="active page">Solving captchas</a></li>
</ul>
</div>

</nav>
</div>

<div class="small-12 medium-9 large-10 column">
<section class="site-content">

<span id="version-warning"></span>

<div class="page-header row">
<div class="medium-12 show-for-medium column">
<div class="nav-breadcrumbs">
<ul>
  <li><a href="index.html">captcha-haskell</a></li>
  <li>Solving captchas</li>
</ul>
</div>
</div>
</div>

<div class="page-content row">
<div class="small-12 large-9 column" id="docs">
<h1><a href="#solving-captchas" name="solving-captchas" class="anchor"><span class="anchor-link"></span></a>Solving captchas</h1>
<p>By default, the <code>solve</code> function polls at an interval of 10 seconds, and a timeout is not enforced.<br/>This can be configured for any captcha using the <code>pollingInterval</code> and <code>timeoutDuration</code> lenses.<br/>If you need any time-conversion functions, use the <a href="https://hackage.haskell.org/package/o-clock">o-clock</a> library (this is where the type <code>Time Millisecond</code> comes from).<br/>For simplicity, the below examples will simply rethrow any exceptions found.</p><div class="callout note "><div class="callout-title">Note</div>
<p>If you don&rsquo;t want to poll for the answer, you can use the <code>createTask</code> and <code>getTask</code> functions directly.</p></div>
<h2><a href="#imagecaptcha" name="imagecaptcha" class="anchor"><span class="anchor-link"></span></a>ImageCaptcha</h2>
<table>
  <thead>
    <tr>
      <th>Name </th>
      <th>Type </th>
      <th>Description </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>apiKey </td>
      <td>Text </td>
      <td>API key for captcha service </td>
    </tr>
    <tr>
      <td>body </td>
      <td>Text </td>
      <td>Base-64 encoded image </td>
    </tr>
    <tr>
      <td>pollingInterval </td>
      <td>Maybe (Time Millisecond) </td>
      <td>Interval to poll for the captcha&rsquo;s answer </td>
    </tr>
    <tr>
      <td>timeoutDuration </td>
      <td>Maybe (Time Millisecond) </td>
      <td>Max timeout when solving captchas </td>
    </tr>
  </tbody>
</table>
<dl>
  <dt>2Captcha</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><code class="language-hs">{-# LANGUAGE LambdaCase #-}
{-# LANGUAGE OverloadedStrings #-}
{-# LANGUAGE TypeApplications #-}

import Captcha (Captcha (runCaptcha), HasApiKey (apiKey), HasBody (body), ImageCaptcha, MonadCaptcha (solve), mkCaptchaEnv)
import Captcha.TwoCaptcha (TwoCaptcha)
import Control.Exception (throw)
import Control.Lens ((&amp;), (.~))
import Data.Default (Default (def))

main :: IO ()
main = do
  let captcha =
        def @ImageCaptcha
          &amp; apiKey .~ &quot;YOUR_API_KEY&quot;
          &amp; body .~ &quot;BASE_64_ENCODED_IMAGE&quot;
  captchaEnv &lt;- mkCaptchaEnv
  runCaptcha (solve @TwoCaptcha captcha) captchaEnv &gt;&gt;= \case
    Right result -&gt; print result
    Left exception -&gt; throw exception</code></pre></dd>
  <dt>CapMonster</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><code class="language-hs">{-# LANGUAGE LambdaCase #-}
{-# LANGUAGE OverloadedStrings #-}
{-# LANGUAGE TypeApplications #-}

import Captcha (Captcha (runCaptcha), HasApiKey (apiKey), HasBody (body), ImageCaptcha, MonadCaptcha (solve), mkCaptchaEnv)
import Captcha.CapMonster (CapMonster)
import Control.Exception (throw)
import Control.Lens ((&amp;), (.~))
import Data.Default (Default (def))

main :: IO ()
main = do
  let captcha =
        def @ImageCaptcha
          &amp; apiKey .~ &quot;YOUR_API_KEY&quot;
          &amp; body .~ &quot;BASE_64_ENCODED_IMAGE&quot;
  captchaEnv &lt;- mkCaptchaEnv
  runCaptcha (solve @CapMonster captcha) captchaEnv &gt;&gt;= \case
    Right result -&gt; print result
    Left exception -&gt; throw exception</code></pre></dd>
  <dt>2Captcha (Full)
  </dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><code class="language-hs">{-# LANGUAGE LambdaCase #-}
{-# LANGUAGE NumericUnderscores #-}
{-# LANGUAGE OverloadedStrings #-}
{-# LANGUAGE TypeApplications #-}

import Captcha (Captcha (runCaptcha), HasApiKey (apiKey), HasBody (body), HasPollingInterval (pollingInterval), HasTimeoutDuration (timeoutDuration), ImageCaptcha, MonadCaptcha (solve), mkCaptchaEnv)
import Captcha.TwoCaptcha (TwoCaptcha)
import Control.Exception (throw)
import Control.Lens ((&amp;), (.~), (?~))
import Data.Default (Default (def))
import Time (Time (Time))

main :: IO ()
main = do
  let captcha =
        def @ImageCaptcha
          &amp; apiKey .~ &quot;YOUR_API_KEY&quot;
          &amp; body .~ &quot;BASE_64_ENCODED_IMAGE&quot;
          &amp; pollingInterval ?~ Time 5000
          &amp; timeoutDuration ?~ Time 60_000
  captchaEnv &lt;- mkCaptchaEnv
  runCaptcha (solve @TwoCaptcha captcha) captchaEnv &gt;&gt;= \case
    Right result -&gt; print result
    Left exception -&gt; throw exception</code></pre></dd>
  <dt>CapMonster (Full)
  </dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><code class="language-hs">{-# LANGUAGE LambdaCase #-}
{-# LANGUAGE NumericUnderscores #-}
{-# LANGUAGE OverloadedStrings #-}
{-# LANGUAGE TypeApplications #-}

import Captcha (Captcha (runCaptcha), HasApiKey (apiKey), HasBody (body), HasPollingInterval (pollingInterval), HasTimeoutDuration (timeoutDuration), ImageCaptcha, MonadCaptcha (solve), mkCaptchaEnv)
import Captcha.CapMonster (CapMonster)
import Control.Exception (throw)
import Control.Lens ((&amp;), (.~), (?~))
import Data.Default (Default (def))
import Time (Time (Time))

main :: IO ()
main = do
  let captcha =
        def @ImageCaptcha
          &amp; apiKey .~ &quot;YOUR_API_KEY&quot;
          &amp; body .~ &quot;BASE_64_ENCODED_IMAGE&quot;
          &amp; pollingInterval ?~ Time 5000
          &amp; timeoutDuration ?~ Time 60_000
  captchaEnv &lt;- mkCaptchaEnv
  runCaptcha (solve @CapMonster captcha) captchaEnv &gt;&gt;= \case
    Right result -&gt; print result
    Left exception -&gt; throw exception</code></pre></dd>
</dl>
<h2><a href="#textcaptcha" name="textcaptcha" class="anchor"><span class="anchor-link"></span></a>TextCaptcha</h2>
<table>
  <thead>
    <tr>
      <th>Name </th>
      <th>Type </th>
      <th>Description </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>apiKey </td>
      <td>Text </td>
      <td>API key for captcha service </td>
    </tr>
    <tr>
      <td>body </td>
      <td>Text </td>
      <td>Text captcha to be solved </td>
    </tr>
    <tr>
      <td>pollingInterval </td>
      <td>Maybe (Time Millisecond) </td>
      <td>Interval to poll for the captcha&rsquo;s answer </td>
    </tr>
    <tr>
      <td>timeoutDuration </td>
      <td>Maybe (Time Millisecond) </td>
      <td>Max timeout when solving captchas </td>
    </tr>
  </tbody>
</table>
<dl>
  <dt>2Captcha</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><code class="language-hs">{-# LANGUAGE LambdaCase #-}
{-# LANGUAGE OverloadedStrings #-}
{-# LANGUAGE TypeApplications #-}

import Captcha (Captcha (runCaptcha), HasApiKey (apiKey), HasBody (body), MonadCaptcha (solve), TextCaptcha, mkCaptchaEnv)
import Captcha.TwoCaptcha (TwoCaptcha)
import Control.Exception (throw)
import Control.Lens ((&amp;), (.~))
import Data.Default (Default (def))

main :: IO ()
main = do
  let captcha =
        def @TextCaptcha
          &amp; apiKey .~ &quot;YOUR_API_KEY&quot;
          &amp; body .~ &quot;YOUR_TEXT_CAPTCHA&quot;
  captchaEnv &lt;- mkCaptchaEnv
  runCaptcha (solve @TwoCaptcha captcha) captchaEnv &gt;&gt;= \case
    Right result -&gt; print result
    Left exception -&gt; throw exception</code></pre></dd>
  <dt>2Captcha (Full)
  </dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><code class="language-hs">{-# LANGUAGE LambdaCase #-}
{-# LANGUAGE NumericUnderscores #-}
{-# LANGUAGE OverloadedStrings #-}
{-# LANGUAGE TypeApplications #-}

import Captcha (Captcha (runCaptcha), HasApiKey (apiKey), HasBody (body), HasPollingInterval (pollingInterval), HasTimeoutDuration (timeoutDuration), MonadCaptcha (solve), TextCaptcha, mkCaptchaEnv)
import Captcha.TwoCaptcha (TwoCaptcha)
import Control.Exception (throw)
import Control.Lens ((&amp;), (.~), (?~))
import Data.Default (Default (def))
import Time (Time (Time))

main :: IO ()
main = do
  let captcha =
        def @TextCaptcha
          &amp; apiKey .~ &quot;YOUR_API_KEY&quot;
          &amp; body .~ &quot;YOUR_TEXT_CAPTCHA&quot;
          &amp; pollingInterval ?~ Time 5000
          &amp; timeoutDuration ?~ Time 60_000
  captchaEnv &lt;- mkCaptchaEnv
  runCaptcha (solve @TwoCaptcha captcha) captchaEnv &gt;&gt;= \case
    Right result -&gt; print result
    Left exception -&gt; throw exception</code></pre></dd>
</dl>
<h2><a href="#funcaptcha" name="funcaptcha" class="anchor"><span class="anchor-link"></span></a>FunCaptcha</h2>
<table>
  <thead>
    <tr>
      <th>Name </th>
      <th>Type </th>
      <th>Description </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>apiKey </td>
      <td>Text </td>
      <td>API key for captcha service </td>
    </tr>
    <tr>
      <td>captchaUrl </td>
      <td>Text </td>
      <td>Url where the captcha is found </td>
    </tr>
    <tr>
      <td>captchaKey </td>
      <td>Text </td>
      <td>FunCaptcha&rsquo;s <strong>data-pkey</strong> value </td>
    </tr>
    <tr>
      <td>serviceUrl </td>
      <td>Maybe Text </td>
      <td>FunCaptcha&rsquo;s <strong>surl</strong> value </td>
    </tr>
    <tr>
      <td>userAgent </td>
      <td>Maybe Text </td>
      <td>User agent to be used when solving the captcha </td>
    </tr>
    <tr>
      <td>proxy </td>
      <td>Maybe Proxy </td>
      <td>Proxy to be used when solving the captcha </td>
    </tr>
    <tr>
      <td>cookies </td>
      <td>Cookies </td>
      <td>Cookies to be used when solving the captcha </td>
    </tr>
    <tr>
      <td>pollingInterval </td>
      <td>Maybe (Time Millisecond) </td>
      <td>Interval to poll for the captcha&rsquo;s answer </td>
    </tr>
    <tr>
      <td>timeoutDuration </td>
      <td>Maybe (Time Millisecond) </td>
      <td>Max timeout when solving captchas </td>
    </tr>
  </tbody>
</table>
<dl>
  <dt>2Captcha</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><code class="language-hs">{-# LANGUAGE LambdaCase #-}
{-# LANGUAGE OverloadedStrings #-}
{-# LANGUAGE TypeApplications #-}

import Captcha (Captcha (runCaptcha), FunCaptcha, HasApiKey (apiKey), HasCaptchaKey (captchaKey), HasCaptchaUrl (captchaUrl), MonadCaptcha (solve), mkCaptchaEnv)
import Captcha.TwoCaptcha (TwoCaptcha)
import Control.Exception (throw)
import Control.Lens ((&amp;), (.~))
import Data.Default (Default (def))

main :: IO ()
main = do
  let captcha =
        def @FunCaptcha
          &amp; apiKey .~ &quot;YOUR_API_KEY&quot;
          &amp; captchaUrl .~ &quot;https://api.funcaptcha.com/fc/api/nojs&quot;
          &amp; captchaKey .~ &quot;69A21A01-CC7B-B9C6-0F9A-E7FA06677FFC&quot;
  captchaEnv &lt;- mkCaptchaEnv
  runCaptcha (solve @TwoCaptcha captcha) captchaEnv &gt;&gt;= \case
    Right result -&gt; print result
    Left exception -&gt; throw exception</code></pre></dd>
  <dt>CapMonster</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><code class="language-hs">{-# LANGUAGE LambdaCase #-}
{-# LANGUAGE OverloadedStrings #-}
{-# LANGUAGE TypeApplications #-}

import Captcha (Captcha (runCaptcha), FunCaptcha, HasApiKey (apiKey), HasCaptchaKey (captchaKey), HasCaptchaUrl (captchaUrl), MonadCaptcha (solve), mkCaptchaEnv)
import Captcha.CapMonster (CapMonster)
import Control.Exception (throw)
import Control.Lens ((&amp;), (.~))
import Data.Default (Default (def))

main :: IO ()
main = do
  let captcha =
        def @FunCaptcha
          &amp; apiKey .~ &quot;YOUR_API_KEY&quot;
          &amp; captchaUrl .~ &quot;https://api.funcaptcha.com/fc/api/nojs&quot;
          &amp; captchaKey .~ &quot;69A21A01-CC7B-B9C6-0F9A-E7FA06677FFC&quot;
  captchaEnv &lt;- mkCaptchaEnv
  runCaptcha (solve @CapMonster captcha) captchaEnv &gt;&gt;= \case
    Right result -&gt; print result
    Left exception -&gt; throw exception</code></pre></dd>
  <dt>2Captcha (Full)
  </dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><code class="language-hs">{-# LANGUAGE LambdaCase #-}
{-# LANGUAGE NumericUnderscores #-}
{-# LANGUAGE OverloadedStrings #-}
{-# LANGUAGE TypeApplications #-}

import Captcha (Captcha (runCaptcha), FunCaptcha, HasApiKey (apiKey), HasCaptchaKey (captchaKey), HasCaptchaUrl (captchaUrl), HasCookies (cookies), HasPollingInterval (pollingInterval), HasProxy (proxy), HasServiceUrl (serviceUrl), HasTimeoutDuration (timeoutDuration), HasUserAgent (userAgent), MonadCaptcha (solve), Proxy (Proxy), ProxyAuth (ProxyAuth), ProxyProtocol (Http), mkCaptchaEnv)
import Captcha.TwoCaptcha (TwoCaptcha)
import Control.Exception (throw)
import Control.Lens ((&amp;), (.~), (?~))
import Data.Default (Default (def))
import Time (Time (Time))

main :: IO ()
main = do
  let captcha =
        def @FunCaptcha
          &amp; apiKey .~ &quot;YOUR_API_KEY&quot;
          &amp; captchaUrl .~ &quot;https://api.funcaptcha.com/fc/api/nojs&quot;
          &amp; captchaKey .~ &quot;69A21A01-CC7B-B9C6-0F9A-E7FA06677FFC&quot;
          &amp; cookies .~ [(&quot;cookie_key&quot;, &quot;cookie_value&quot;)]
          &amp; serviceUrl ?~ &quot;https://api.funcaptcha.com&quot;
          &amp; userAgent ?~ &quot;Mozilla/5.0 (Windows NT 6.1; WOW64; rv:40.0) Gecko/20100101 Firefox/40.1&quot;
          &amp; proxy ?~ Proxy &quot;proxy_address&quot; Http 1234 (Just $ ProxyAuth &quot;username&quot; &quot;password&quot;)
          &amp; pollingInterval ?~ Time 5000
          &amp; timeoutDuration ?~ Time 60_000
  captchaEnv &lt;- mkCaptchaEnv
  runCaptcha (solve @TwoCaptcha captcha) captchaEnv &gt;&gt;= \case
    Right result -&gt; print result
    Left exception -&gt; throw exception</code></pre></dd>
  <dt>CapMonster (Full)
  </dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><code class="language-hs">{-# LANGUAGE LambdaCase #-}
{-# LANGUAGE NumericUnderscores #-}
{-# LANGUAGE OverloadedStrings #-}
{-# LANGUAGE TypeApplications #-}

import Captcha (Captcha (runCaptcha), FunCaptcha, HasApiKey (apiKey), HasCaptchaKey (captchaKey), HasCaptchaUrl (captchaUrl), HasCookies (cookies), HasPollingInterval (pollingInterval), HasProxy (proxy), HasServiceUrl (serviceUrl), HasTimeoutDuration (timeoutDuration), HasUserAgent (userAgent), MonadCaptcha (solve), Proxy (Proxy), ProxyAuth (ProxyAuth), ProxyProtocol (Http), mkCaptchaEnv)
import Captcha.CapMonster (CapMonster)
import Control.Exception (throw)
import Control.Lens ((&amp;), (.~), (?~))
import Data.Default (Default (def))
import Time (Time (Time))

main :: IO ()
main = do
  let captcha =
        def @FunCaptcha
          &amp; apiKey .~ &quot;YOUR_API_KEY&quot;
          &amp; captchaUrl .~ &quot;https://api.funcaptcha.com/fc/api/nojs&quot;
          &amp; captchaKey .~ &quot;69A21A01-CC7B-B9C6-0F9A-E7FA06677FFC&quot;
          &amp; cookies .~ [(&quot;cookie_key&quot;, &quot;cookie_value&quot;)]
          &amp; serviceUrl ?~ &quot;https://api.funcaptcha.com&quot;
          &amp; userAgent ?~ &quot;Mozilla/5.0 (Windows NT 6.1; WOW64; rv:40.0) Gecko/20100101 Firefox/40.1&quot;
          &amp; proxy ?~ Proxy &quot;proxy_address&quot; Http 1234 (Just $ ProxyAuth &quot;username&quot; &quot;password&quot;)
          &amp; pollingInterval ?~ Time 5000
          &amp; timeoutDuration ?~ Time 60_000
  captchaEnv &lt;- mkCaptchaEnv
  runCaptcha (solve @CapMonster captcha) captchaEnv &gt;&gt;= \case
    Right result -&gt; print result
    Left exception -&gt; throw exception</code></pre></dd>
</dl>
<h2><a href="#recaptchav2" name="recaptchav2" class="anchor"><span class="anchor-link"></span></a>ReCaptchaV2</h2>
<table>
  <thead>
    <tr>
      <th>Name </th>
      <th>Type </th>
      <th>Description </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>apiKey </td>
      <td>Text </td>
      <td>API key for captcha service </td>
    </tr>
    <tr>
      <td>invisible </td>
      <td>Boolean </td>
      <td>Is the captcha using the invisible variant? </td>
    </tr>
    <tr>
      <td>captchaUrl </td>
      <td>Text </td>
      <td>Url where the captcha is found </td>
    </tr>
    <tr>
      <td>captchaKey </td>
      <td>Text </td>
      <td>reCAPTCHA v2&rsquo;s <strong>data-sitekey</strong> value </td>
    </tr>
    <tr>
      <td>dataS </td>
      <td>Maybe Text </td>
      <td>reCAPTCHA v2&rsquo;s <strong>data-s</strong> value </td>
    </tr>
    <tr>
      <td>userAgent </td>
      <td>Maybe Text </td>
      <td>User agent to be used when solving the captcha </td>
    </tr>
    <tr>
      <td>proxy </td>
      <td>Maybe Proxy </td>
      <td>Proxy to be used when solving the captcha </td>
    </tr>
    <tr>
      <td>cookies </td>
      <td>Cookies </td>
      <td>Cookies to be used when solving the captcha </td>
    </tr>
    <tr>
      <td>pollingInterval </td>
      <td>Maybe (Time Millisecond) </td>
      <td>Interval to poll for the captcha&rsquo;s answer </td>
    </tr>
    <tr>
      <td>timeoutDuration </td>
      <td>Maybe (Time Millisecond) </td>
      <td>Max timeout when solving captchas </td>
    </tr>
  </tbody>
</table>
<dl>
  <dt>2Captcha</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><code class="language-hs">{-# LANGUAGE LambdaCase #-}
{-# LANGUAGE OverloadedStrings #-}
{-# LANGUAGE TypeApplications #-}

import Captcha (Captcha (runCaptcha), HasApiKey (apiKey), HasCaptchaKey (captchaKey), HasCaptchaUrl (captchaUrl), MonadCaptcha (solve), ReCaptchaV2, mkCaptchaEnv)
import Captcha.TwoCaptcha (TwoCaptcha)
import Control.Exception (throw)
import Control.Lens ((&amp;), (.~))
import Data.Default (Default (def))

main :: IO ()
main = do
  let captcha =
        def @ReCaptchaV2
          &amp; apiKey .~ &quot;YOUR_API_KEY&quot;
          &amp; captchaUrl .~ &quot;https://2captcha.com/demo/recaptcha-v2&quot;
          &amp; captchaKey .~ &quot;6LeIxboZAAAAAFQy7d8GPzgRZu2bV0GwKS8ue_cH&quot;
  captchaEnv &lt;- mkCaptchaEnv
  runCaptcha (solve @TwoCaptcha captcha) captchaEnv &gt;&gt;= \case
    Right result -&gt; print result
    Left exception -&gt; throw exception</code></pre></dd>
  <dt>CapMonster</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><code class="language-hs">{-# LANGUAGE LambdaCase #-}
{-# LANGUAGE OverloadedStrings #-}
{-# LANGUAGE TypeApplications #-}

import Captcha (Captcha (runCaptcha), HasApiKey (apiKey), HasCaptchaKey (captchaKey), HasCaptchaUrl (captchaUrl), MonadCaptcha (solve), ReCaptchaV2, mkCaptchaEnv)
import Captcha.CapMonster (CapMonster)
import Control.Exception (throw)
import Control.Lens ((&amp;), (.~))
import Data.Default (Default (def))

main :: IO ()
main = do
  let captcha =
        def @ReCaptchaV2
          &amp; apiKey .~ &quot;YOUR_API_KEY&quot;
          &amp; captchaUrl .~ &quot;https://2captcha.com/demo/recaptcha-v2&quot;
          &amp; captchaKey .~ &quot;6LeIxboZAAAAAFQy7d8GPzgRZu2bV0GwKS8ue_cH&quot;
  captchaEnv &lt;- mkCaptchaEnv
  runCaptcha (solve @CapMonster captcha) captchaEnv &gt;&gt;= \case
    Right result -&gt; print result
    Left exception -&gt; throw exception</code></pre></dd>
  <dt>2Captcha (Full)
  </dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><code class="language-hs">{-# LANGUAGE LambdaCase #-}
{-# LANGUAGE NumericUnderscores #-}
{-# LANGUAGE OverloadedStrings #-}
{-# LANGUAGE TypeApplications #-}

import Captcha (Captcha (runCaptcha), HasApiKey (apiKey), HasCaptchaKey (captchaKey), HasCaptchaUrl (captchaUrl), HasCookies (cookies), HasDataS (dataS), HasInvisible (invisible), HasPollingInterval (pollingInterval), HasProxy (proxy), HasTimeoutDuration (timeoutDuration), HasUserAgent (userAgent), MonadCaptcha (solve), Proxy (Proxy), ProxyAuth (ProxyAuth), ProxyProtocol (Http), ReCaptchaV2, mkCaptchaEnv)
import Captcha.TwoCaptcha (TwoCaptcha)
import Control.Exception (throw)
import Control.Lens ((&amp;), (.~), (?~))
import Data.Default (Default (def))
import Time (Time (Time))

main :: IO ()
main = do
  let captcha =
        def @ReCaptchaV2
          &amp; apiKey .~ &quot;YOUR_API_KEY&quot;
          &amp; captchaUrl .~ &quot;https://2captcha.com/demo/recaptcha-v2-invisible&quot;
          &amp; captchaKey .~ &quot;6LfDxboZAAAAAD6GHukjvUy6lszoeG3H4nQW57b6&quot;
          &amp; invisible .~ True
          &amp; cookies .~ [(&quot;cookie_key&quot;, &quot;cookie_value&quot;)]
          &amp; dataS ?~ &quot;RECAPTCHA_DATA_S_VALUE&quot;
          &amp; userAgent ?~ &quot;Mozilla/5.0 (Windows NT 6.1; WOW64; rv:40.0) Gecko/20100101 Firefox/40.1&quot;
          &amp; proxy ?~ Proxy &quot;proxy_address&quot; Http 1234 (Just $ ProxyAuth &quot;username&quot; &quot;password&quot;)
          &amp; pollingInterval ?~ Time 5000
          &amp; timeoutDuration ?~ Time 60_000
  captchaEnv &lt;- mkCaptchaEnv
  runCaptcha (solve @TwoCaptcha captcha) captchaEnv &gt;&gt;= \case
    Right result -&gt; print result
    Left exception -&gt; throw exception</code></pre></dd>
  <dt>CapMonster (Full)
  </dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><code class="language-hs">{-# LANGUAGE LambdaCase #-}
{-# LANGUAGE NumericUnderscores #-}
{-# LANGUAGE OverloadedStrings #-}
{-# LANGUAGE TypeApplications #-}

import Captcha (Captcha (runCaptcha), HasApiKey (apiKey), HasCaptchaKey (captchaKey), HasCaptchaUrl (captchaUrl), HasCookies (cookies), HasDataS (dataS), HasInvisible (invisible), HasPollingInterval (pollingInterval), HasProxy (proxy), HasTimeoutDuration (timeoutDuration), HasUserAgent (userAgent), MonadCaptcha (solve), Proxy (Proxy), ProxyAuth (ProxyAuth), ProxyProtocol (Http), ReCaptchaV2, mkCaptchaEnv)
import Captcha.CapMonster (CapMonster)
import Control.Exception (throw)
import Control.Lens ((&amp;), (.~), (?~))
import Data.Default (Default (def))
import Time (Time (Time))

main :: IO ()
main = do
  let captcha =
        def @ReCaptchaV2
          &amp; apiKey .~ &quot;YOUR_API_KEY&quot;
          &amp; captchaUrl .~ &quot;https://2captcha.com/demo/recaptcha-v2-invisible&quot;
          &amp; captchaKey .~ &quot;6LfDxboZAAAAAD6GHukjvUy6lszoeG3H4nQW57b6&quot;
          &amp; invisible .~ True
          &amp; cookies .~ [(&quot;cookie_key&quot;, &quot;cookie_value&quot;)]
          &amp; dataS ?~ &quot;RECAPTCHA_DATA_S_VALUE&quot;
          &amp; userAgent ?~ &quot;Mozilla/5.0 (Windows NT 6.1; WOW64; rv:40.0) Gecko/20100101 Firefox/40.1&quot;
          &amp; proxy ?~ Proxy &quot;proxy_address&quot; Http 1234 (Just $ ProxyAuth &quot;username&quot; &quot;password&quot;)
          &amp; pollingInterval ?~ Time 5000
          &amp; timeoutDuration ?~ Time 60_000
  captchaEnv &lt;- mkCaptchaEnv
  runCaptcha (solve @CapMonster captcha) captchaEnv &gt;&gt;= \case
    Right result -&gt; print result
    Left exception -&gt; throw exception</code></pre></dd>
</dl>
<h2><a href="#recaptchav3" name="recaptchav3" class="anchor"><span class="anchor-link"></span></a>ReCaptchaV3</h2>
<table>
  <thead>
    <tr>
      <th>Name </th>
      <th>Type </th>
      <th>Description </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>apiKey </td>
      <td>Text </td>
      <td>API key for captcha service </td>
    </tr>
    <tr>
      <td>minScore </td>
      <td>Double </td>
      <td>reCAPTCHAV3&rsquo;s minimum score </td>
    </tr>
    <tr>
      <td>captchaUrl </td>
      <td>Text </td>
      <td>Url where the captcha is found </td>
    </tr>
    <tr>
      <td>captchaKey </td>
      <td>Text </td>
      <td>reCAPTCHA v3&rsquo;s <strong>sitekey</strong> value </td>
    </tr>
    <tr>
      <td>action </td>
      <td>Maybe Text </td>
      <td>reCAPTCHA v3&rsquo;s <strong>action</strong> value </td>
    </tr>
    <tr>
      <td>userAgent </td>
      <td>Maybe Text </td>
      <td>User agent to be used when solving the captcha </td>
    </tr>
    <tr>
      <td>proxy </td>
      <td>Maybe Proxy </td>
      <td>Proxy to be used when solving the captcha </td>
    </tr>
    <tr>
      <td>cookies </td>
      <td>Cookies </td>
      <td>Cookies to be used when solving the captcha </td>
    </tr>
    <tr>
      <td>pollingInterval </td>
      <td>Maybe (Time Millisecond) </td>
      <td>Interval to poll for the captcha&rsquo;s answer </td>
    </tr>
    <tr>
      <td>timeoutDuration </td>
      <td>Maybe (Time Millisecond) </td>
      <td>Max timeout when solving captchas </td>
    </tr>
  </tbody>
</table>
<dl>
  <dt>2Captcha</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><code class="language-hs">{-# LANGUAGE LambdaCase #-}
{-# LANGUAGE OverloadedStrings #-}
{-# LANGUAGE TypeApplications #-}

import Captcha (Captcha (runCaptcha), HasApiKey (apiKey), HasCaptchaKey (captchaKey), HasCaptchaUrl (captchaUrl), MonadCaptcha (solve), ReCaptchaV3, mkCaptchaEnv)
import Captcha.TwoCaptcha (TwoCaptcha)
import Control.Exception (throw)
import Control.Lens ((&amp;), (.~))
import Data.Default (Default (def))

main :: IO ()
main = do
  let captcha =
        def @ReCaptchaV3
          &amp; apiKey .~ &quot;YOUR_API_KEY&quot;
          &amp; captchaUrl .~ &quot;https://2captcha.com/demo/recaptcha-v3&quot;
          &amp; captchaKey .~ &quot;6LfB5_IbAAAAAMCtsjEHEHKqcB9iQocwwxTiihJu&quot;
  captchaEnv &lt;- mkCaptchaEnv
  runCaptcha (solve @TwoCaptcha captcha) captchaEnv &gt;&gt;= \case
    Right result -&gt; print result
    Left exception -&gt; throw exception</code></pre></dd>
  <dt>CapMonster</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><code class="language-hs">{-# LANGUAGE LambdaCase #-}
{-# LANGUAGE OverloadedStrings #-}
{-# LANGUAGE TypeApplications #-}

import Captcha (Captcha (runCaptcha), HasApiKey (apiKey), HasCaptchaKey (captchaKey), HasCaptchaUrl (captchaUrl), MonadCaptcha (solve), ReCaptchaV3, mkCaptchaEnv)
import Captcha.CapMonster (CapMonster)
import Control.Exception (throw)
import Control.Lens ((&amp;), (.~))
import Data.Default (Default (def))

main :: IO ()
main = do
  let captcha =
        def @ReCaptchaV3
          &amp; apiKey .~ &quot;YOUR_API_KEY&quot;
          &amp; captchaUrl .~ &quot;https://2captcha.com/demo/recaptcha-v3&quot;
          &amp; captchaKey .~ &quot;6LfB5_IbAAAAAMCtsjEHEHKqcB9iQocwwxTiihJu&quot;
  captchaEnv &lt;- mkCaptchaEnv
  runCaptcha (solve @CapMonster captcha) captchaEnv &gt;&gt;= \case
    Right result -&gt; print result
    Left exception -&gt; throw exception</code></pre></dd>
  <dt>2Captcha (Full)
  </dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><code class="language-hs">{-# LANGUAGE LambdaCase #-}
{-# LANGUAGE NumericUnderscores #-}
{-# LANGUAGE OverloadedStrings #-}
{-# LANGUAGE TypeApplications #-}

import Captcha (Captcha (runCaptcha), HasAction (action), HasApiKey (apiKey), HasCaptchaKey (captchaKey), HasCaptchaUrl (captchaUrl), HasCookies (cookies), HasMinScore (minScore), HasPollingInterval (pollingInterval), HasProxy (proxy), HasTimeoutDuration (timeoutDuration), HasUserAgent (userAgent), MonadCaptcha (solve), Proxy (Proxy), ProxyAuth (ProxyAuth), ProxyProtocol (Http), ReCaptchaV3, mkCaptchaEnv)
import Captcha.TwoCaptcha (TwoCaptcha)
import Control.Exception (throw)
import Control.Lens ((&amp;), (.~), (?~))
import Data.Default (Default (def))
import Time (Time (Time))

main :: IO ()
main = do
  let captcha =
        def @ReCaptchaV3
          &amp; apiKey .~ &quot;YOUR_API_KEY&quot;
          &amp; captchaUrl .~ &quot;https://2captcha.com/demo/recaptcha-v3&quot;
          &amp; captchaKey .~ &quot;6LfB5_IbAAAAAMCtsjEHEHKqcB9iQocwwxTiihJu&quot;
          &amp; minScore .~ 0.1
          &amp; cookies .~ [(&quot;cookie_key&quot;, &quot;cookie_value&quot;)]
          &amp; action ?~ &quot;demo action&quot;
          &amp; userAgent ?~ &quot;Mozilla/5.0 (Windows NT 6.1; WOW64; rv:40.0) Gecko/20100101 Firefox/40.1&quot;
          &amp; proxy ?~ Proxy &quot;proxy_address&quot; Http 1234 (Just $ ProxyAuth &quot;username&quot; &quot;password&quot;)
          &amp; pollingInterval ?~ Time 5000
          &amp; timeoutDuration ?~ Time 60_000
  captchaEnv &lt;- mkCaptchaEnv
  runCaptcha (solve @TwoCaptcha captcha) captchaEnv &gt;&gt;= \case
    Right result -&gt; print result
    Left exception -&gt; throw exception</code></pre></dd>
  <dt>CapMonster (Full)
  </dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><code class="language-hs">{-# LANGUAGE LambdaCase #-}
{-# LANGUAGE NumericUnderscores #-}
{-# LANGUAGE OverloadedStrings #-}
{-# LANGUAGE TypeApplications #-}

import Captcha (Captcha (runCaptcha), HasAction (action), HasApiKey (apiKey), HasCaptchaKey (captchaKey), HasCaptchaUrl (captchaUrl), HasCookies (cookies), HasMinScore (minScore), HasPollingInterval (pollingInterval), HasProxy (proxy), HasTimeoutDuration (timeoutDuration), HasUserAgent (userAgent), MonadCaptcha (solve), Proxy (Proxy), ProxyAuth (ProxyAuth), ProxyProtocol (Http), ReCaptchaV3, mkCaptchaEnv)
import Captcha.CapMonster (CapMonster)
import Control.Exception (throw)
import Control.Lens ((&amp;), (.~), (?~))
import Data.Default (Default (def))
import Time (Time (Time))

main :: IO ()
main = do
  let captcha =
        def @ReCaptchaV3
          &amp; apiKey .~ &quot;YOUR_API_KEY&quot;
          &amp; captchaUrl .~ &quot;https://2captcha.com/demo/recaptcha-v3&quot;
          &amp; captchaKey .~ &quot;6LfB5_IbAAAAAMCtsjEHEHKqcB9iQocwwxTiihJu&quot;
          &amp; minScore .~ 0.1
          &amp; cookies .~ [(&quot;cookie_key&quot;, &quot;cookie_value&quot;)]
          &amp; action ?~ &quot;demo action&quot;
          &amp; userAgent ?~ &quot;Mozilla/5.0 (Windows NT 6.1; WOW64; rv:40.0) Gecko/20100101 Firefox/40.1&quot;
          &amp; proxy ?~ Proxy &quot;proxy_address&quot; Http 1234 (Just $ ProxyAuth &quot;username&quot; &quot;password&quot;)
          &amp; pollingInterval ?~ Time 5000
          &amp; timeoutDuration ?~ Time 60_000
  captchaEnv &lt;- mkCaptchaEnv
  runCaptcha (solve @CapMonster captcha) captchaEnv &gt;&gt;= \case
    Right result -&gt; print result
    Left exception -&gt; throw exception</code></pre></dd>
</dl>
</div>
<div class="large-3 show-for-large column" data-sticky-container>
<nav class="sidebar sticky" data-sticky data-anchor="docs" data-sticky-on="large">
<div class="page-nav">
<div class="nav-title">On this page:</div>
<div class="nav-toc">
<ul>
  <li><a href="solving-captchas.html#solving-captchas" class="header">Solving captchas</a>
  <ul>
    <li><a href="solving-captchas.html#imagecaptcha" class="header">ImageCaptcha</a></li>
    <li><a href="solving-captchas.html#textcaptcha" class="header">TextCaptcha</a></li>
    <li><a href="solving-captchas.html#funcaptcha" class="header">FunCaptcha</a></li>
    <li><a href="solving-captchas.html#recaptchav2" class="header">ReCaptchaV2</a></li>
    <li><a href="solving-captchas.html#recaptchav3" class="header">ReCaptchaV3</a></li>
  </ul></li>
</ul>
</div>
</div>
</nav>
</div>
</div>

</section>
</div>

</div>

<footer class="site-footer">

<section class="site-footer-nav">
<div class="expanded row">
<div class="small-12 large-offset-2 large-10 column">
<div class="row site-footer-content">

<div class="small-12 medium-4 large-3 text-center column">
<div class="nav-links">
<ul>
<!-- <li><a href="https://www.example.com/products/">Products</a> -->
</ul>
</div>
</div>

</div>
</div>
</div>
</section>

<section class="site-footer-base">
<div class="expanded row">
<div class="small-12 large-offset-2 large-10 column">
<div class="row site-footer-content">

<div class="small-12 text-center large-9 column">

<!--
<div class="copyright">
<span class="text">&copy; 2022</span>
<a href="https://www.example.com" class="logo">logo</a>
</div>
-->
</div>

</div>
</div>
</div>
</section>
</footer>

</div>
</div>
</div>
</body>

<script type="text/javascript" src="lib/foundation/dist/foundation.min.js"></script>
<script type="text/javascript">jQuery(document).foundation();</script>
<script type="text/javascript" src="js/magellan.js"></script>

<style type="text/css">@import "lib/prettify/prettify.css";</style>
<script type="text/javascript" src="lib/prettify/prettify.js"></script>
<script type="text/javascript" src="lib/prettify/lang-scala.js"></script>
<script type="text/javascript">jQuery(function(){window.prettyPrint && prettyPrint()});</script>
<script type="text/javascript">jQuery(function(jq){initOldVersionWarnings(jq, '0.1.0.0', '')});</script>


</html>
